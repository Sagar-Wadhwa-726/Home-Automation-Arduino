#define BLYNK_TEMPLATE_ID "TMPLkyIaiMWd"
#define BLYNK_DEVICE_NAME "Sagar Wadhwa"
#define BLYNK_AUTH_TOKEN "AYEE0nvvo5UB5oAbofkPbbhm0aGba1D8"
#define BLYNK_PRINT Serial
#define APP_KEY           "cebb1c6b-67ac-4e22-8653-f3129974e4e4"     
#define APP_SECRET        "690140ab-acd6-4d7b-846a-7edaf5117871-72af198e-c893-4fb2-8a93-55224b7fe6bd"   
#define SWITCH_ID         "632a10e5fa69c39e7ccf8514"    
#define BAUD_RATE         9600                
#define RELAY_PIN         D0

#include <Arduino.h>
#include <ESP8266WiFi.h>
#include "SinricPro.h"
#include "SinricProSwitch.h"
#include <WiFi.h>
#include <BlynkSimpleEsp8266.h>
 
char auth[] = "AYEE0nvvo5UB5oAbofkPbbhm0aGba1D8";
char ssid[] = "TP-LINK_34C0";
char pass[] = "82414726";

BLYNK_WRITE(V0) {
  digitalWrite(D0, param.asInt());
}

bool onPowerState(const String &deviceId, bool &state) {
  digitalWrite(RELAY_PIN, state);             
  return true;                                
}

void setup() {
  pinMode(D0, OUTPUT);
  Blynk.begin(auth, ssid, pass, "blynk.cloud", 80);
  WiFi.begin(ssid, pass);
  SinricProSwitch& mySwitch = SinricPro[SWITCH_ID];   
  mySwitch.onPowerState(onPowerState);                
  SinricPro.begin(APP_KEY, APP_SECRET);  
}
void loop() {
  Blynk.run();
  SinricPro.handle(); 
}
//
//  static const uint8_t D0   = 16;
//  static const uint8_t D1   = 5;
//  static const uint8_t D2   = 4;
//  static const uint8_t D3   = 0;
//  static const uint8_t D4   = 2;
//  static const uint8_t D5   = 14;
//  static const uint8_t D6   = 12;
//  static const uint8_t D7   = 13;
//  static const uint8_t D8   = 15;